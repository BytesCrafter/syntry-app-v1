<!-- <ion-header>
  <ion-toolbar>
    <ion-title>qrscan</ion-title>
  </ion-toolbar>
</ion-header> -->

<ion-content>
  <ion-label *ngIf="this.previous !== null" vertical="top" horizontal="start" slot="fixed">
    <div style="margin: 25px; padding: 5px 10px;">
      <h2>{{dname}}</h2>
    </div>
  </ion-label>
  <ion-fab vertical="top" horizontal="end" slot="fixed">
    <ion-fab-button [attr.size]="this.statusSize" [attr.color]="this.statusColor" disabled>
      <strong *ngIf="!this.isSending" style="color: black;">{{countdown}}</strong>
      <ion-icon *ngIf="this.isSending" name="cloud-upload-outline"></ion-icon>
    </ion-fab-button>
  </ion-fab>

  <!-- Fallback for iOS PWA -->
  <!-- <input #fileinput type="file" accept="image/*;capture=camera" hidden (change)="handleFile($event.target.file)"> -->

  <!-- Trigger the file input -->
  <!-- <ion-button expand="full" (click)="captureImage()">
    <ion-icon slot="start" name="camera"></ion-icon>
    Capture Image
  </ion-button> -->

  <div style="height: 50vh;">
    <!-- <video #video [hidden]="!scanActive" width="100%" controls></video> -->
    <video #video width="100%" style="-webkit-transform: scaleX(-1);transform: scaleX(-1); width: auto;"></video>

    <!-- Used to render the camera stream images -->
    <canvas #canvas hidden></canvas>
    <ion-item style="position: relative;top: -80px;" *ngIf="false">
      <ion-range color="primary" pin="true" step="5" min="0" max="250" [(ngModel)]="focusValue" (ionChange)="onSliderEvent($event)"></ion-range>
    </ion-item>
  </div>

  <div style="height: 50vh;">

    <ion-list-header>
      <ion-label><h2>Log History for Today</h2></ion-label>
    </ion-list-header>
    <ion-list>
      <ion-item *ngFor="let att of attendance; let i = index">
        <ion-avatar slot="start">
          <ion-img [src]="att.avatar"></ion-img>
        </ion-avatar>
        <ion-label>
          <h2>{{att.fname}} {{att.lname}}</h2>
          <p>{{att.stamp}}</p>
        </ion-label>
        <ion-badge color="{{att.color}}" slot="end">{{att.event}}</ion-badge>
      </ion-item>
    </ion-list>
  </div>

</ion-content>
